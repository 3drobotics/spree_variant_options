<div data-hook="admin_image_form_fields" class="row">
  <div class="col-md-6">
    <div data-hook="file" class="form-group">
      <%= f.label :attachment, Spree.t(:filename) %>
      <%= f.file_field :attachment %>
    </div>
    <div data-hook="variant" class="form-group">
      <%= f.label :viewable_id, Spree::Variant.model_name.human %>
      <%= f.select :viewable_id, @variants, {}, {:class => 'select2'} %>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <%= f.label :alt, Spree.t(:alt_text) %>
        <%= f.text_area :alt, :rows => 4, :class => 'form-control' %>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
//<![CDATA[
  (function($){

    $("input.option-type").change(function() {
      $(this).parents(".option-type-field").find("input.option-value").attr("checked", this.checked);
    });

    $("input.option-value").change(function() {
      var any_checked = false;
      $(this).parents(".option-type-values").find("input.option-value").each(function(i, el) {
        any_checked = any_checked || el.checked;
      });
      $(this).parents(".option-type-field").find("input.option-type").attr("checked", any_checked);
    });

  })(jQuery);
  //]]>
  </script>
